<!DOCTYPE html>
<html>
<head>
    <title>Поиск почтовых логов</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .search-box { margin-bottom: 20px; }
        input[type="text"] { width: 300px; padding: 5px; }
        input[type="submit"] { padding: 5px 15px; }
        .result-item { margin: 5px 0; padding: 5px; border-bottom: 1px solid #ddd; }
        .limit-msg { color: #ff0000; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Поиск в почтовых логах</h1>
    <form class="search-box" method="GET">
        <input type="text" name="address" placeholder="Введите адрес получателя" 
               value="<%= $address %>">
        <input type="submit" value="Найти">
    </form>
    
    <% if (@results) { %>
        <h2>Результаты для: <%= $address %></h2>
        <% foreach my $row (@results) { %>
            <div class="result-item">
                <strong><%= $row->{created} %></strong> <%= $row->{str} %>
            </div>
        <% } %>
        <% if ($limit_exceeded) { %>
            <div class="limit-msg">Показано 100 результатов. Существуют дополнительные записи.</div>
        <% } %>
    <% } %>
</body>
</html>
